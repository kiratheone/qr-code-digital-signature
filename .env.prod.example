# Production Environment Configuration for Digital Signature System
# Copy this file to .env.prod and update with your actual values

# Application Configuration
APP_VERSION=1.0.0
BUILD_TIME=
GIT_COMMIT=
NODE_ENV=production
GIN_MODE=release

# Domain and URLs
DOMAIN=localhost
NEXT_PUBLIC_API_URL=https://localhost
CORS_ORIGINS=https://localhost,https://yourdomain.com

# Database Configuration
DB_NAME=digital_signature
DB_USER=postgres
DB_HOST=postgres
DB_PORT=5432
DB_SSL_MODE=require
DB_MAX_CONNECTIONS=20
DB_MAX_IDLE_CONNECTIONS=5
DB_CONNECTION_MAX_LIFETIME=300

# Redis Configuration
REDIS_URL=redis://redis:6379
REDIS_PASSWORD=your-redis-password-here

# Security Configuration
JWT_EXPIRY=24h
JWT_REFRESH_EXPIRY=168h
SESSION_TIMEOUT=3600
BCRYPT_COST=12

# Rate Limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60
UPLOAD_RATE_LIMIT=5
UPLOAD_RATE_WINDOW=60

# File Upload Configuration
MAX_FILE_SIZE=52428800  # 50MB in bytes

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_ROTATION_SIZE=10m

# Monitoring and Metrics
ENABLE_METRICS=true
ENABLE_PROFILING=false
METRICS_PORT=9090
DEBUG=false

# SSL Configuration
SSL_CERT_PATH=./nginx/ssl/cert.pem
SSL_KEY_PATH=./nginx/ssl/key.pem

# Backup Configuration
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
DATA_PATH=./data

# Monitoring Configuration
GRAFANA_PASSWORD=your-grafana-password-here
PROMETHEUS_RETENTION=30d

# Email Configuration (if needed for notifications)
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@yourdomain.com

# External Services (if any)
EXTERNAL_API_URL=
EXTERNAL_API_KEY=

# Development/Testing (set to false in production)
ENABLE_SWAGGER=false
ENABLE_DEBUG_ROUTES=false

# Container Resource Limits
FRONTEND_MEMORY_LIMIT=512M
FRONTEND_CPU_LIMIT=0.5
BACKEND_MEMORY_LIMIT=1G
BACKEND_CPU_LIMIT=1.0
POSTGRES_MEMORY_LIMIT=1G
POSTGRES_CPU_LIMIT=1.0
REDIS_MEMORY_LIMIT=256M
REDIS_CPU_LIMIT=0.25

# Network Configuration
NETWORK_SUBNET=172.20.0.0/16
NETWORK_NAME=br-digsig

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3
HEALTH_CHECK_START_PERIOD=30s

# Security Headers
SECURITY_HEADERS_ENABLED=true
HSTS_MAX_AGE=31536000
CSP_ENABLED=true

# Audit and Compliance
AUDIT_LOG_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=365
COMPLIANCE_MODE=false

# Performance Tuning
POSTGRES_SHARED_BUFFERS=256MB
POSTGRES_EFFECTIVE_CACHE_SIZE=1GB
POSTGRES_WORK_MEM=4MB
POSTGRES_MAINTENANCE_WORK_MEM=64MB
POSTGRES_MAX_CONNECTIONS=100

REDIS_MAXMEMORY=200mb
REDIS_MAXMEMORY_POLICY=allkeys-lru

# Timezone
TZ=UTC

# Custom Configuration (add your specific settings here)
# CUSTOM_SETTING_1=value1
# CUSTOM_SETTING_2=value2